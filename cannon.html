<link rel="stylesheet" href="cannon.css">

<div id="sky" class="wrapper">
  <button class="st-btn" onclick="launch();">발사</button>

  <script>
    var getnum = prompt("학생수를 입력해 주십시오.");
    while (getnum != getnum * 1 || getnum > 999 || getnum < 2) {
      getnum = prompt("3~999 의 값을 입력하여 주십시오.");
    }
    getnum = Number(getnum);
  
    var arr = [];
  
    for (var i = 1; i <= getnum; i++) {
      arr.push(i);
    }
  
    for (var i = 1; i <= getnum; i++) {
      var idx = Math.floor(Math.random() * (getnum - 1));
      var tmp = arr[idx];
      arr[idx] = arr[i - 1];
      arr[i - 1] = tmp;
    }
  
    var cnt = 0;
    var node = [];
    var text;

    function launch(){
      if(cnt < getnum) {
        console.log(arr[cnt]);
        node.push(document.createElement("h6")); 
        text = document.createTextNode(String(arr[cnt]));
        node[cnt].appendChild(text);
        document.getElementById("sky").appendChild(node[cnt]);
        if(cnt > 0){
          node[cnt-1].remove();
        }
        cnt++;
      } else {
        alert("모든 공을 발사하였습니다. 재시작 하시려면 F5를 눌러주십시오.");
      }
    }
  </script>
</div>


